<!DOCTYPE html>
<html>
<head>
  <title>Simulator Cari Uang</title>
</head>
<body>
  <h1>Simulator Cari Uang</h1>
  <button onclick="tambahUang()">Kerja Dapat 100</button>
  <p id="status"></p>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getFirestore, doc, setDoc, getDoc, updateDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCgeVvyiNZcnaUQKRBEMTYVE51gzxjjMh8",
      authDomain: "universe-simulator-6142c.firebaseapp.com",
      projectId: "universe-simulator-6142c",
      storageBucket: "universe-simulator-6142c.firebasestorage.app",
      messagingSenderId: "1058326316972",
      appId: "1:1058326316972:web:d51035840346a659e35c09"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const userId = "user_universe";

    window.tambahUang = async function () {
      const userRef = doc(db, "users", userId);
      const userSnap = await getDoc(userRef);

      if (!userSnap.exists()) {
        await setDoc(userRef, { saldo: 100 });
      } else {
        await updateDoc(userRef, {
          saldo: userSnap.data().saldo + 100
        });
      }

      document.getElementById("status").innerText = "Berhasil tambah 100!";
    };
  </script>
</body>
</html>
